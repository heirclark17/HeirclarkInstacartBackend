# Server Configuration
PORT=3000
NODE_ENV=development

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/heirclark
DATABASE_CA_CERT=           # Optional: CA certificate for SSL (recommended for production)
DATABASE_SSL_REJECT_UNAUTHORIZED=false  # Set to true in production with proper CA cert
DATABASE_POOL_MAX=20
DATABASE_IDLE_TIMEOUT_MS=30000
DATABASE_CONNECT_TIMEOUT_MS=5000

# Authentication (JWT)
# IMPORTANT: Generate a secure random string (at least 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=your-secure-jwt-secret-at-least-32-characters
JWT_EXPIRES_IN=7d

# OpenAI API
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4.1-mini
OPENAI_VISION_MODEL=gpt-4o-mini
OPENAI_MACRO_MODEL=gpt-4.1-mini

# Instacart Connect API
# Get credentials from: https://developer.instacart.com/
INSTACART_API_KEY=
INSTACART_BASE_URL=https://connect.instacart.com

# Fitbit OAuth
# Get credentials from: https://dev.fitbit.com/
FITBIT_CLIENT_ID=
FITBIT_CLIENT_SECRET=
FITBIT_REDIRECT_URI=https://your-domain.com/api/v1/integrations/fitbit/auth/callback

# Apple Health Sync
# IMPORTANT: Generate a secure random string (at least 16 characters)
HC_APPLE_SYNC_SIGNING_SECRET=your-secure-signing-secret-at-least-16-chars
HC_APPLE_LINK_CODE_TTL_MINUTES=10
HC_APPLE_TOKEN_TTL_DAYS=365

# CORS Configuration
ALLOWED_ORIGINS=https://heirclark.com,https://www.heirclark.com,http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Default User Goals (used when user hasn't set preferences)
DEFAULT_GOAL_WEIGHT_LBS=225
DEFAULT_HYDRATION_TARGET_ML=3000
DEFAULT_CALORIES_TARGET=2200
DEFAULT_PROTEIN_TARGET=190
DEFAULT_CARBS_TARGET=190
DEFAULT_FAT_TARGET=60

# HeyGen API (for Avatar Coach feature)
# Get credentials from: https://app.heygen.com/settings (Settings > API)
# Supports both:
#   - Video Generation API (pre-recorded avatar videos)
#   - Streaming Avatar API (real-time interactive avatars)
#
# SECURITY: API key must NEVER be exposed to frontend!
HEYGEN_API_KEY=               # Your HeyGen API key (x-api-key header)
HEYGEN_AVATAR_ID=             # Default avatar ID for streaming (e.g., "Angela-inTshirt-20220820")
HEYGEN_VOICE_ID=              # Default voice ID for streaming (e.g., "1bd001e7e50f421d891986aad5158bc8")

# Shopify (if using Shopify integration)
SHOPIFY_API_SECRET=
SHOPIFY_PROXY_PATH=/apps/instacart/build-list
